

# ES6

### ES6中let和const

* ES6就是ECMAScript6.0是JavaScript语言的下一代标准.两者的关系是前者是后者的标准,后者是前者的一种实现.

* ES6新增了let命令,用来声明块级作用域的变量.他和ES5中的var很像,但是两者差别比较大,两者都可以声明变量,但是let声明的变量只能在他所在的代码块中有效,出了他的作用域就会undefined;而var声明的变量在全局基本都可以获取到他的值.

  同时ES6还新增了一个const命令,const可以声明一个常量,而且,一旦用const声明一个常量就必须要给这个常量赋值,如果只声明不赋值,就会报错.而且一旦声明并赋值之后,该常量的值不能更改.const声明的常量与let一样只在声明所在的块级作用域内有效.

  ##### 总结一下let和const的特点:

  * (1)变量仅在块级作用域内有效，并且在块级作用域内独立，不受外界影响
  * (2)变量必须先定义后使用，并且在js预编译时不存在变量提升
  * (3)变量读取仍然按照作用域链往上查找
  * (4)不可在同一作用域内重复定义变量
  * (5)在全局使用let定义变量时，该变量不再属于全局属性。

  let,const定义变量，消除了使用var定义变量时带来的种种意外情况与不合理情况，使得变量的定义变得清晰可控，有了let与const，则不该再使用var定义变量。
  另外在let,const的选择上，const的效率更高，因此，当程序中的变量一旦初始化则不会再改变时，此时使用const更加合理。
  当变量需要重复赋值时，则选择let。

  #### 变量提升

  ```
       var a = 10;
  	(function (){
      	console.log(a+a);
  		})();
  ```

  分析这段代码我们可以很容易得到结果,console出来的是a=10,a+a得到20;

  那么我将这个代码稍加修改:

  ```
            var a = 10;
  		  (function (){
  			console.log(a+a);
  		     	var a =1;
  			})();
  ```

  此时输出的结果是NaN,然后我再将上面的代码修改一下,就看着很直观了.

  ```
            var a = 10;
  			(function (){
  				var a;
  				console.log(a+a);
  				a =1;
  			})();
  ```

  从上面修改的代码,我们可以看出,当全局声明了一个变量的时候,在函数内部又声明了一次并赋值后,变量的声明会提升至函数内第一句,赋值不变,这就是变量提升.



